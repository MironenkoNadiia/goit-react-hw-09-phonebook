{"version":3,"sources":["redux/phonebook/phonebook-reducer.js","redux/Auth/auth-reducer.js","redux/store.js","redux/Auth/auth-selectors.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/PublicRoute.js","components/PrivateRoute.js","App.js","index.js","redux/phonebook/phonebook-actions.js","components/Navigation/Navigation.module.css","components/AuthNav/AuthNav.module.css","redux/Auth/auth-operations.js","components/UserMenu/UserMenu.module.css","components/Loader/Loader.module.css","redux/Auth/auth-actions.js","components/Loader/Loader.js","components/AppBar/AppBar.module.css"],"names":["items","createReducer","fetchContactsSuccess","_","payload","addContactSuccess","state","deleteContactSuccess","filter","id","changeFilter","loading","fetchContactsRequest","fetchContactsError","addContactRequest","addContactError","deleteContactRequest","deleteContactError","combineReducers","initialUserState","name","email","user","authActions","userRegistrationSuccess","userLoginSuccess","userLogoutSuccess","currentUserSuccess","isLogedIn","currentUserError","userRegistrationError","userLoginError","token","error","userLogoutError","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","phonebookReducer","devTools","process","expordStore","persistor","persistStore","exportSelectors","getIsLogedIn","getUserName","Navigation","useSelector","authSelectors","exact","to","className","s","link","activeClassName","activeLink","React","memo","UserMenu","dispatch","useDispatch","container","type","onClick","authOperations","userLogout","AuthNav","AppBar","header","PublicRoute","redirectTo","children","routeProps","isAuthenticated","restricted","PrivateRoute","HomePage","lazy","LoginPage","Phonebook","RegisterPage","App","useEffect","getCurrentUser","fallback","path","component","ReactDOM","render","StrictMode","document","getElementById","createAction","module","exports","axios","defaults","baseURL","headers","common","Authorization","exportedOperations","registrationUser","registerData","a","userRegistrationRequest","post","data","message","loginUser","loginData","userLoginRequest","userLogoutRequest","getState","currentUserRequest","get","exportedActions","Loading","props","createPortal","wrapper","inner","color","height","width","querySelector"],"mappings":"8RAcMA,EAAQC,YAAc,IAAD,mBACxBC,KAAuB,SAACC,EAAD,YAAMC,WADL,cAExBC,KAAoB,SAACC,EAAD,YAAUF,SAAV,mBAAqCE,OAFjC,cAGxBC,KAAuB,SAACD,EAAD,OAAUF,EAAV,EAAUA,QAAV,OACtBE,EAAME,QAAO,qBAAGC,KAAgBL,QAJT,IAOrBI,EAASP,YAAc,GAAD,eACzBS,KAAe,SAACP,EAAD,YAAMC,YAGlBO,EAAUV,aAAc,GAAD,mBAC1BW,KAAuB,kBAAM,KADH,cAE1BV,KAAuB,kBAAM,KAFH,cAG1BW,KAAqB,kBAAM,KAHD,cAI1BC,KAAoB,kBAAM,KAJA,cAK1BT,KAAoB,kBAAM,KALA,cAM1BU,KAAkB,kBAAM,KANE,cAO1BC,KAAuB,kBAAM,KAPH,cAQ1BT,KAAuB,kBAAM,KARH,cAS1BU,KAAqB,kBAAM,KATD,IAYdC,cAAgB,CAC7BlB,QACAQ,SACAG,Y,OCpCIQ,EAAmB,CAAEC,KAAM,KAAMC,MAAO,MACxCC,EAAOrB,YAAckB,GAAD,iBAAC,EACxBI,IAAYC,yBAA0B,SAAClB,EAAD,YAAUF,QAAsBkB,QAD/C,YAAC,EAExBC,IAAYE,kBAAmB,SAACnB,EAAD,YAAUF,QAAsBkB,QAFxC,YAAC,EAGxBC,IAAYG,mBAAoB,kBAAMP,KAHf,YAAC,EAIxBI,IAAYI,oBAAqB,SAACrB,EAAD,YAAUF,WAJpB,IAOpBwB,EAAY3B,aAAc,GAAD,mBAC5BsB,IAAYC,yBAA0B,kBAAM,KADhB,cAE5BD,IAAYE,kBAAmB,kBAAM,KAFT,cAG5BF,IAAYI,oBAAqB,kBAAM,KAHX,cAI5BJ,IAAYM,kBAAmB,kBAAM,KAJT,cAK5BN,IAAYG,mBAAoB,kBAAM,KALV,cAM5BH,IAAYO,uBAAwB,kBAAM,KANd,cAO5BP,IAAYQ,gBAAiB,kBAAM,KAPP,IAUzBC,EAAQ/B,YAAc,MAAD,iBAAC,EACzBsB,IAAYC,yBAA0B,SAACrB,EAAD,YAAMC,QAAsB4B,SAD1C,YAAC,EAEzBT,IAAYE,kBAAmB,SAACtB,EAAD,YAAMC,QAAsB4B,SAFnC,YAAC,EAGzBT,IAAYG,mBAAoB,kBAAM,QAHd,IAMrBO,EAAQhC,YAAc,MAAD,mBACxBsB,IAAYO,uBAAwB,SAAC3B,EAAD,YAAMC,WADlB,cAExBmB,IAAYQ,gBAAiB,SAAC5B,EAAD,YAAMC,WAFX,cAGxBmB,IAAYW,iBAAkB,SAAC/B,EAAD,YAAMC,WAHZ,cAIxBmB,IAAYM,kBAAmB,SAAC1B,EAAD,YAAMC,WAJb,IAOZc,cAAgB,CAC7BI,OACAM,YACAI,QACAC,UCxBIE,EAAU,YACXC,YAAqB,CACtBC,kBAAmB,CACjBC,eAAgB,CAACC,IAAOC,IAAWC,IAAOC,IAASC,IAAOC,SAK1DC,EAAoB,CACxBC,IAAK,OACLC,YACAC,UAAW,CAAC,UAGRC,EAAQC,YAAe,CAC3BC,QAAS,CACPC,KAAMC,YAAeR,EAAmBS,GACxCC,SAAUC,GAEZrB,aACAsB,UAAUC,IAOGC,EAFK,CAAEV,QAAOW,UAFXC,YAAaZ,I,OChCfa,EAFQ,CAAEC,aAJL,SAACzD,GAAD,OAAWA,EAAM8C,KAAKxB,WAIHoC,YAFpB,SAAC1D,GAAD,OAAWA,EAAM8C,KAAK9B,KAAKF,O,wBCI/C,SAAS6C,IACP,IAAMrC,EAAYsC,YAAYC,EAAcJ,cAC5C,OACE,gCACE,cAAC,IAAD,CAASK,OAAK,EAACC,GAAG,IAAIC,UAAWC,IAAEC,KAAMC,gBAAiBF,IAAEG,WAA5D,kBAGC9C,GACC,cAAC,IAAD,CACEwC,OAAK,EACLC,GAAG,aACHC,UAAWC,IAAEC,KACbC,gBAAiBF,IAAEG,WAJrB,0BAaOC,UAAMC,KAAKX,G,yBCrBX,SAASY,IACtB,IAAMC,EAAWC,cACX3D,EAAO8C,YAAYC,EAAcH,aAEvC,OACE,sBAAKM,UAAWC,IAAES,UAAlB,UACE,uBAAMV,UAAWC,IAAEnD,KAAnB,sBAAmCA,KACnC,wBACE6D,KAAK,SACLC,QAAS,kBAAMJ,EAASK,IAAeC,eAFzC,uB,qBCcSC,EAvBQ,WACrB,OACE,gCACE,cAAC,IAAD,CACEjB,OAAK,EACLC,GAAG,gBACHC,UAAWC,IAAEC,KACbC,gBAAiBF,IAAEG,WAJrB,0BAQA,cAAC,IAAD,CACEN,OAAK,EACLC,GAAG,SACHC,UAAWC,IAAEC,KACbC,gBAAiBF,IAAEG,WAJrB,uB,kBCPS,SAASY,KACtB,IAAM1D,EAAYsC,YAAYC,EAAcJ,cAC5C,OACE,yBAAQO,UAAWC,KAAEgB,OAArB,UACE,cAAC,EAAD,IACC3D,EAAY,cAACiD,EAAD,IAAe,cAAC,EAAD,O,sBCPnB,SAASW,GAAT,GAA+D,IAAxCC,EAAuC,EAAvCA,WAAYC,EAA2B,EAA3BA,SAAaC,EAAc,0CACrEC,EAAkB1B,YAAYC,EAAcJ,cAClD,OACE,cAAC,IAAD,6BAAW4B,GAAX,aACGC,GAAmBD,EAAWE,WAC7B,cAAC,IAAD,CAAUxB,GAAIoB,IAEdC,KCRO,SAASI,GAAT,GAAgE,IAAxCL,EAAuC,EAAvCA,WAAYC,EAA2B,EAA3BA,SAAaC,EAAc,0CACtEC,EAAkB1B,YAAYC,EAAcJ,cAClD,OACE,cAAC,IAAD,6BAAW4B,GAAX,aACGC,EAAkBF,EAAW,cAAC,IAAD,CAAUrB,GAAIoB,O,aCA5CM,GAAWC,gBAAK,kBAAM,iCACtBC,GAAYD,gBAAK,kBAAM,iCACvBE,GAAYF,gBAAK,kBAAM,uDACvBG,GAAeH,gBAAK,kBACxB,iCAGa,SAASI,KACtB,IAAMtB,EAAWC,cAYf,OANFsB,qBAAU,WACRvB,EAASK,IAAemB,oBACvB,CAACxB,IAKA,gCACE,cAACQ,GAAD,IACA,cAAC,WAAD,CAAUiB,SAAU,cAAC,KAAD,IAApB,SACE,eAAC,IAAD,WACE,cAACf,GAAD,CAAapB,OAAK,EAACoC,KAAK,IAAIC,UAAWV,KACvC,cAACP,GAAD,CACEgB,KAAK,SACLX,YAAU,EACVJ,WAAW,aACXgB,UAAWR,KAEb,cAACT,GAAD,CACEgB,KAAK,gBACLX,YAAU,EACVJ,WAAW,aACXgB,UAAWN,KAEb,cAACL,GAAD,CACEU,KAAK,aACLf,WAAW,SACXgB,UAAWP,KAEb,cAAC,IAAD,CAAU7B,GAAG,cC5CzBqC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAU3D,MAAOA,EAAMA,MAAvB,SACE,cAAC,IAAD,CAAatC,QAAS,KAAMiD,UAAWX,EAAMW,UAA7C,SACE,cAAC,IAAD,UACE,cAACwC,GAAD,YAKRS,SAASC,eAAe,U,gCClB1B,+VAEalG,EAAuBmG,YAClC,kCAEW7G,EAAuB6G,YAClC,kCAEWlG,EAAqBkG,YAAa,gCAElCjG,EAAoBiG,YAAa,+BACjC1G,EAAoB0G,YAAa,+BACjChG,EAAkBgG,YAAa,6BAE/B/F,EAAuB+F,YAClC,kCAEWxG,EAAuBwG,YAClC,kCAEW9F,EAAqB8F,YAAa,gCAElCrG,EAAeqG,YAAa,2B,mBCrBzCC,EAAOC,QAAU,CAAC,KAAO,yBAAyB,WAAa,iC,mBCA/DD,EAAOC,QAAU,CAAC,KAAO,sBAAsB,WAAa,8B,qFCE5DC,IAAMC,SAASC,QAAU,2CAEzB,IAAMpF,EAAQ,SACRA,GACFkF,IAAMC,SAASE,QAAQC,OAAOC,cAA9B,iBAAwDvF,IAFtDA,EAAQ,WAKVkF,IAAMC,SAASE,QAAQC,OAAOC,cAAgB,IA4D5CC,EAAqB,CACzBC,iBAzDuB,SAACC,GAAD,8CAAkB,WAAO5C,GAAP,iBAAA6C,EAAA,6DACzC7C,EAASvD,IAAYqG,2BADoB,kBAGhBV,IAAMW,KAAK,gBAAiBH,GAHZ,gBAG/BI,EAH+B,EAG/BA,KAER9F,EAAU8F,EAAK9F,OACf8C,EAASvD,IAAYC,wBAAwBsG,IANN,kDAQvChD,EAASvD,IAAYO,sBAAsB,KAAMiG,UARV,0DAAlB,uDA0DvBC,UA9CgB,SAACC,GAAD,8CAAe,WAAOnD,GAAP,iBAAA6C,EAAA,6DAC/B7C,EAASvD,IAAY2G,oBADU,kBAGNhB,IAAMW,KAAK,eAAgBI,GAHrB,gBAGrBH,EAHqB,EAGrBA,KAER9F,EAAU8F,EAAK9F,OAEf8C,EAASvD,IAAYE,iBAAiBqG,IAPT,kDAS7BhD,EAASvD,IAAYQ,eAAe,KAAMgG,UATb,0DAAf,uDA+ChB3C,WAlCiB,yDAAM,WAAON,GAAP,SAAA6C,EAAA,6DACvB7C,EAASvD,IAAY4G,qBADE,kBAGfjB,IAAMW,KAAK,iBAHI,OAKrB7F,IAEA8C,EAASvD,IAAYG,qBAPA,gDASrBoD,EAASvD,IAAYW,gBAAgB,KAAM6F,UATtB,yDAAN,uDAmCjBzB,eAtBqB,yDAAM,WAAOxB,EAAUsD,GAAjB,qBAAAT,EAAA,2DACVS,KAAThF,EADmB,EACnBA,MACEpB,MAFiB,wDAM3BA,EAAUoB,EAAKpB,OAEf8C,EAASvD,IAAY8G,sBARM,kBAUFnB,IAAMoB,IAAI,kBAVR,gBAUjBR,EAViB,EAUjBA,KAERhD,EAASvD,IAAYI,mBAAmBmG,IAZf,kDAczBhD,EAASvD,IAAYM,iBAAiB,KAAMkG,UAdnB,0DAAN,0DAyBRP,O,mBC5EfR,EAAOC,QAAU,CAAC,UAAY,4BAA4B,KAAO,yB,mBCAjED,EAAOC,QAAU,CAAC,QAAU,0B,+BCD5B,WAkBMsB,EAAkB,CACtBX,wBAjB8Bb,YAAa,gCAkB3CvF,wBAjB8BuF,YAAa,gCAkB3CjF,sBAjB4BiF,YAAa,+BAkBzCmB,iBAhBuBnB,YAAa,yBAiBpCtF,iBAhBuBsF,YAAa,yBAiBpChF,eAhBqBgF,YAAa,wBAiBlCoB,kBAfwBpB,YAAa,0BAgBrCrF,kBAfwBqF,YAAa,0BAgBrC7E,gBAfsB6E,YAAa,yBAgBnCsB,mBAdyBtB,YAAa,2BAetCpF,mBAdyBoF,YAAa,2BAetClF,iBAduBkF,YAAa,0BAgBvBwB,O,gCChCf,mEAiBeC,IAXf,SAAiBC,GACf,OAAOC,uBACL,qBAAKpE,UAAWC,IAAEoE,QAAlB,SACE,qBAAKrE,UAAWC,IAAEqE,MAAlB,SACE,cAAC,IAAD,CAAQ3D,KAAK,YAAY4D,MAAM,UAAUC,OAAQ,IAAKC,MAAO,UAGjElC,SAASmC,cAAc,a,mBCZ3BhC,EAAOC,QAAU,CAAC,OAAS,0B","file":"static/js/main.5beaf64e.chunk.js","sourcesContent":["import { createReducer, combineReducers } from \"@reduxjs/toolkit\";\r\nimport {\r\n  changeFilter,\r\n  addContactSuccess,\r\n  deleteContactSuccess,\r\n  fetchContactsSuccess,\r\n  addContactRequest,\r\n  deleteContactRequest,\r\n  fetchContactsRequest,\r\n  addContactError,\r\n  deleteContactError,\r\n  fetchContactsError,\r\n} from \"./phonebook-actions\";\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => [payload, ...state],\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer(\"\", {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n});\r\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport authActions from \"./auth-actions\";\r\n\r\nconst initialUserState = { name: null, email: null };\r\nconst user = createReducer(initialUserState, {\r\n  [authActions.userRegistrationSuccess]: (state, { payload }) => payload.user,\r\n  [authActions.userLoginSuccess]: (state, { payload }) => payload.user,\r\n  [authActions.userLogoutSuccess]: () => initialUserState,\r\n  [authActions.currentUserSuccess]: (state, { payload }) => payload,\r\n});\r\n\r\nconst isLogedIn = createReducer(false, {\r\n  [authActions.userRegistrationSuccess]: () => true,\r\n  [authActions.userLoginSuccess]: () => true,\r\n  [authActions.currentUserSuccess]: () => true,\r\n  [authActions.currentUserError]: () => false,\r\n  [authActions.userLogoutSuccess]: () => false,\r\n  [authActions.userRegistrationError]: () => false,\r\n  [authActions.userLoginError]: () => false,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [authActions.userRegistrationSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.userLoginSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.userLogoutSuccess]: () => null,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [authActions.userRegistrationError]: (_, { payload }) => payload,\r\n  [authActions.userLoginError]: (_, { payload }) => payload,\r\n  [authActions.userLogoutError]: (_, { payload }) => payload,\r\n  [authActions.currentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  isLogedIn,\r\n  token,\r\n  error,\r\n});\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport phonebookReducer from \"./phonebook/phonebook-reducer\";\r\nimport authReducer from \"./Auth/auth-reducer\";\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: \"auth\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: phonebookReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nconst expordStore = { store, persistor };\r\n\r\nexport default expordStore;\r\n","const getIsLogedIn = (state) => state.auth.isLogedIn;\r\n\r\nconst getUserName = (state) => state.auth.user.name;\r\n\r\nconst exportSelectors = { getIsLogedIn, getUserName };\r\n\r\nexport default  exportSelectors;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport authSelectors from \"../../redux/Auth/auth-selectors\";\r\nimport s from \"./Navigation.module.css\";\r\n\r\nfunction Navigation() {\r\n  const isLogedIn = useSelector(authSelectors.getIsLogedIn);\r\n  return (\r\n    <nav>\r\n      <NavLink exact to=\"/\" className={s.link} activeClassName={s.activeLink}>\r\n        Home\r\n      </NavLink>\r\n      {isLogedIn && (\r\n        <NavLink\r\n          exact\r\n          to=\"/phonebook\"\r\n          className={s.link}\r\n          activeClassName={s.activeLink}\r\n        >\r\n          Phonebook\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default React.memo(Navigation);\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport authSelectors from \"../../redux/Auth/auth-selectors\";\r\nimport authOperations from \"../../redux/Auth/auth-operations\";\r\nimport s from \"./UserMenu.module.css\";\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUserName);\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <span className={s.name}>Welcome, {name}</span>\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => dispatch(authOperations.userLogout())}\r\n      >\r\n        Logout\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n// const mapStateToProps = (state) => ({\r\n//   name: authSelectors.getUserName(state),\r\n// });\r\n\r\n// const mapDispatchToProps = {\r\n//   onLogout: authOperations.userLogout,\r\n// };\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from \"./AuthNav.module.css\";\r\n\r\nexport const AuthNav = () => {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        exact\r\n        to=\"/registration\"\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n      >\r\n        Registration\r\n      </NavLink>\r\n      <NavLink\r\n        exact\r\n        to=\"/login\"\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthNav;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport UserMenu from \"../UserMenu/UserMenu\";\r\nimport AuthNav from \"../AuthNav/AuthNav\";\r\nimport authSelectors  from \"../../redux/Auth/auth-selectors\";\r\nimport s from \"./AppBar.module.css\";\r\n\r\nexport default function AppBar() {\r\n  const isLogedIn = useSelector(authSelectors.getIsLogedIn);\r\n  return (\r\n    <header className={s.header}>\r\n      <Navigation />\r\n      {isLogedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n\r\n// const AppBar = ({ isLogedIn }) => {\r\n//   return (\r\n//     <header className={s.header}>\r\n//       <Navigation />\r\n//       {isLogedIn ? <UserMenu /> : <AuthNav />}\r\n//     </header>\r\n//   );\r\n// };\r\n\r\n// const mapStateToProps = (state) => ({\r\n//   isLogedIn: authSelectors.getIsLogedIn(state),\r\n// });\r\n\r\n// const mapDispatchToProps = {};\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(AppBar);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport authSelectors from \"../redux/Auth/auth-selectors\";\r\n\r\n\r\nexport default function PublicRoute({ redirectTo, children, ...routeProps }) {\r\n  const isAuthenticated = useSelector(authSelectors.getIsLogedIn);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isAuthenticated && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        children\r\n      )}\r\n    </Route>\r\n  );\r\n}\r\n\r\n// const mapStateToProps = (state) => ({\r\n//   isAuthenticated: authSelectors.getIsLogedIn(state),\r\n// });\r\n\r\n// export default connect(mapStateToProps)(PublicRoute);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport authSelectors from \"../redux/Auth/auth-selectors\";\r\n\r\nexport default function PrivateRoute({ redirectTo, children, ...routeProps }) {\r\n  const isAuthenticated = useSelector(authSelectors.getIsLogedIn);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isAuthenticated ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n\r\n// const mapStateToProps = (state) => ({\r\n//   isAuthenticated: authSelectors.getIsLogedIn(state),\r\n// });\r\n\r\n// export default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { useEffect, lazy, Suspense } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Redirect, Switch } from \"react-router-dom\";\nimport AppBar from \"./components/AppBar/AppBar\";\nimport authOperations from \"./redux/Auth/auth-operations\";\nimport PublicRoute from \"./components/PublicRoute\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport Loading from \"./components/Loader/Loader\";\n\nconst HomePage = lazy(() => import(\"./views/Home-page/HomePage\"));\nconst LoginPage = lazy(() => import(\"./views/Login-page/LoginPage\"));\nconst Phonebook = lazy(() => import(\"./views/Phonebook-page/PhonebookPage.js\"));\nconst RegisterPage = lazy(() =>\n  import(\"./views/Register-page/RegisterPage.js\")\n);\n\nexport default function App() {\n  const dispatch = useDispatch();\n\n  // componentDidMount() {\n  //   this.props.onGetCurrentUser();\n  // }\n\n  useEffect(() => {\n    dispatch(authOperations.getCurrentUser());\n  }, [dispatch]);\n    \n  \n\n    return (\n      <div>\n        <AppBar />\n        <Suspense fallback={<Loading />}>\n          <Switch>\n            <PublicRoute exact path=\"/\" component={HomePage} />\n            <PublicRoute\n              path=\"/login\"\n              restricted\n              redirectTo=\"/phonebook\"\n              component={LoginPage}\n            />\n            <PublicRoute\n              path=\"/registration\"\n              restricted\n              redirectTo=\"/phonebook\"\n              component={RegisterPage}\n            />\n            <PrivateRoute\n              path=\"/phonebook\"\n              redirectTo=\"/login\"\n              component={Phonebook}\n            />\n            <Redirect to=\"/\" />\n          </Switch>\n        </Suspense>\n      </div>\n    );\n  }\n\n\n// const mapDispatchToProps = {\n//   onGetCurrentUser: authOperations.getCurrentUser,\n// };\n\n// export default connect(null, mapDispatchToProps)(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport store from \"./redux/store\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const fetchContactsRequest = createAction(\r\n  \"phonebook/fetchContactsRequest\"\r\n);\r\nexport const fetchContactsSuccess = createAction(\r\n  \"phonebook/fetchContactsSuccess\"\r\n);\r\nexport const fetchContactsError = createAction(\"phonebook/fetchContactsError\");\r\n\r\nexport const addContactRequest = createAction(\"phonebook/addContactRequest\");\r\nexport const addContactSuccess = createAction(\"phonebook/addContactSuccess\");\r\nexport const addContactError = createAction(\"phonebook/addContactError\");\r\n\r\nexport const deleteContactRequest = createAction(\r\n  \"phonebook/deleteContactRequest\"\r\n);\r\nexport const deleteContactSuccess = createAction(\r\n  \"phonebook/deleteContactSuccess\"\r\n);\r\nexport const deleteContactError = createAction(\"phonebook/deleteContactError\");\r\n\r\nexport const changeFilter = createAction(\"phonebook/changeFilter\");\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__1nflp\",\"activeLink\":\"Navigation_activeLink__E39eD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__tT4Kv\",\"activeLink\":\"AuthNav_activeLink__3qwkh\"};","import axios from \"axios\";\r\nimport authActions from \"./auth-actions\";\r\n\r\naxios.defaults.baseURL = \"https://goit-phonebook-api.herokuapp.com\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nconst registrationUser = (registerData) => async (dispatch) => {\r\n  dispatch(authActions.userRegistrationRequest());\r\n  try {\r\n    const { data } = await axios.post(\"/users/signup\", registerData);\r\n\r\n    token.set(data.token);\r\n    dispatch(authActions.userRegistrationSuccess(data));\r\n  } catch (error) {\r\n    dispatch(authActions.userRegistrationError(error.message));\r\n  }\r\n};\r\n\r\nconst loginUser = (loginData) => async (dispatch) => {\r\n  dispatch(authActions.userLoginRequest());\r\n  try {\r\n    const { data } = await axios.post(\"/users/login\", loginData);\r\n\r\n    token.set(data.token);\r\n\r\n    dispatch(authActions.userLoginSuccess(data));\r\n  } catch (error) {\r\n    dispatch(authActions.userLoginError(error.message));\r\n  }\r\n};\r\n\r\nconst userLogout = () => async (dispatch) => {\r\n  dispatch(authActions.userLogoutRequest());\r\n  try {\r\n    await axios.post(\"/users/logout\");\r\n\r\n    token.unset();\r\n\r\n    dispatch(authActions.userLogoutSuccess());\r\n  } catch (error) {\r\n    dispatch(authActions.userLogoutError(error.message));\r\n  }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const { auth } = getState();\r\n  if (!auth.token) {\r\n    return;\r\n  }\r\n\r\n  token.set(auth.token);\r\n\r\n  dispatch(authActions.currentUserRequest());\r\n  try {\r\n    const { data } = await axios.get(\"/users/current\");\r\n\r\n    dispatch(authActions.currentUserSuccess(data));\r\n  } catch (error) {\r\n    dispatch(authActions.currentUserError(error.message));\r\n  }\r\n};\r\n\r\nconst exportedOperations = {\r\n  registrationUser,\r\n  loginUser,\r\n  userLogout,\r\n  getCurrentUser,\r\n};\r\n\r\nexport default exportedOperations;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__2XbzU\",\"name\":\"UserMenu_name__3l5_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loader_wrapper__2UYu6\"};","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst userRegistrationRequest = createAction(\"auth/userRegistrationRequest\");\r\nconst userRegistrationSuccess = createAction(\"auth/userRegistrationSuccess\");\r\nconst userRegistrationError = createAction(\"auth/userRegistrationRError\");\r\n\r\nconst userLoginRequest = createAction(\"auth/userLoginRequest\");\r\nconst userLoginSuccess = createAction(\"auth/userLoginSuccess\");\r\nconst userLoginError = createAction(\"auth/userLoginRError\");\r\n\r\nconst userLogoutRequest = createAction(\"auth/userLogoutRequest\");\r\nconst userLogoutSuccess = createAction(\"auth/userLogoutSuccess\");\r\nconst userLogoutError = createAction(\"auth/userLogoutRError\");\r\n\r\nconst currentUserRequest = createAction(\"auth/currentUserRequest\");\r\nconst currentUserSuccess = createAction(\"auth/currentUserSuccess\");\r\nconst currentUserError = createAction(\"auth/currentUserError\");\r\n\r\nconst exportedActions = {\r\n  userRegistrationRequest,\r\n  userRegistrationSuccess,\r\n  userRegistrationError,\r\n  userLoginRequest,\r\n  userLoginSuccess,\r\n  userLoginError,\r\n  userLogoutRequest,\r\n  userLogoutSuccess,\r\n  userLogoutError,\r\n  currentUserRequest,\r\n  currentUserSuccess,\r\n  currentUserError,\r\n};\r\nexport default exportedActions;\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from \"./Loader.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nfunction Loading(props) {\r\n  return createPortal(\r\n    <div className={s.wrapper}>\r\n      <div className={s.inner}>\r\n        <Loader type=\"ThreeDots\" color=\"#27dad4\" height={100} width={100} />\r\n      </div>\r\n    </div>,\r\n    document.querySelector(\"#toast\")\r\n  );\r\n}\r\n\r\nexport default Loading;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__-vxNz\"};"],"sourceRoot":""}